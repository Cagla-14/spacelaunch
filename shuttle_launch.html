<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Space Shuttle Launch (Canvas)</title>
<style>
  :root{
    --frame-w: min(90vmin, 450px); 
    --bg1:#02030a; --bg2:#0b1030;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    display:grid;place-items:center;background:radial-gradient(120% 120% at 50% 20%, var(--bg2), var(--bg1));
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; color:#fff;
  }
  .frame{
    width:var(--frame-w); aspect-ratio:9/16; border-radius:24px; overflow:hidden; position:relative;
    box-shadow:0 20px 60px rgba(0,0,0,.45);
    background:linear-gradient(#040618,#0a0f2a 60%, #070b1e);
  }
  canvas{width:100%;height:100%;display:block}
  .badge{
    position:absolute; top:10px; left:10px; padding:6px 10px; border-radius:999px;
    background:rgba(0,0,0,.4); backdrop-filter:blur(6px); font-size:12px; letter-spacing:.3px;
  }
</style>
</head>
<body>
  <div class="frame">
    <div class="badge">Shuttle Launch</div>
    <canvas id="c"></canvas>
  </div>

<script>
(() => {
  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d', { alpha: false });

  const stars = [];
  const smoke = [];
  const flames = [];
  let fogBands = [];
  let launchT = performance.now();
  const ASC_SCALE = 110; 

  const W = () => canvas.clientWidth;
  const H = () => canvas.clientHeight;

  function dprResize(){
    const dpr = Math.min(window.devicePixelRatio || 1, 2);
    const w = Math.floor(W() * dpr);
    const h = Math.floor(H() * dpr);
    if (canvas.width !== w || canvas.height !== h){
      canvas.width = w; canvas.height = h;
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
  }

  function makeStars(){
    stars.length = 0;
    for(let i=0;i<160;i++){
      stars.push({
        x: Math.random()*W(),
        y: Math.random()*H(),
        r: Math.random()*1.5 + 0.3,
        tw: Math.random()*Math.PI*2
      });
    }
  }

  function makeFog(){
    fogBands = new Array(5).fill(0).map((_,i)=>({y: H()-40-i*18, alpha: .08+.04*i}));
  }

  function resize(){
    dprResize();
    makeFog();
    if (stars.length === 0) makeStars();
  }
  new ResizeObserver(resize).observe(canvas);
  resize();

  function addSmoke(x, y, count=12){
    for(let i=0;i<count;i++){
      smoke.push({
        x: x + (Math.random()-0.5)*26,
        y: y + (Math.random()-0.5)*6,
        vx: (Math.random()-0.5)*0.8,
        vy: -Math.random()*0.3 - 0.2,
        r: Math.random()*14+8,
        life: 1
      });
    }
  }
  function addFlame(x, y, count=18){
    for(let i=0;i<count;i++){
      const ang = (Math.random()*0.6 - 0.3);
      const sp = Math.random()*2 + 1.5;
      flames.push({ x, y, vx: Math.sin(ang)*0.6, vy: sp, r: Math.random()*6+3, life: 1 });
    }
  }

  function vgrad(y0, y1, c0, c1){
    const g = ctx.createLinearGradient(0,y0,0,y1);
    g.addColorStop(0,c0); g.addColorStop(1,c1); return g;
  }

  function drawShuttle(x, y, scale){
    ctx.save();
    ctx.translate(x, y);
    ctx.scale(scale, scale);

    // Body
    ctx.fillStyle = '#e8edf3';
    ctx.strokeStyle = '#cbd5e1';
    ctx.lineWidth = 1.2;
    ctx.beginPath();
    ctx.moveTo(0, -100);
    ctx.quadraticCurveTo(28, -60, 24, 10);
    ctx.lineTo(24, 70);
    ctx.quadraticCurveTo(0, 86, -24, 70);
    ctx.lineTo(-24, 10);
    ctx.quadraticCurveTo(-28, -60, 0, -100);
    ctx.closePath();
    ctx.fill(); ctx.stroke();

    // Window
    ctx.fillStyle = '#0ea5e9';
    ctx.beginPath();
    ctx.ellipse(0,-55,10,12,0,0,Math.PI*2);
    ctx.fill();

    // Side boosters
    ctx.fillStyle = '#d9dee6';
    for(const s of [-1,1]){
      ctx.beginPath();
      ctx.moveTo(22*s, -40);
      ctx.lineTo(34*s, 30);
      ctx.quadraticCurveTo(30*s, 60, 22*s, 70);
      ctx.lineTo(16*s, 20);
      ctx.quadraticCurveTo(18*s, -20, 22*s, -40);
      ctx.closePath();
      ctx.fill();
    }

    // Fins
    ctx.fillStyle = '#94a3b8';
    for(const s of [-1,1]){
      ctx.beginPath();
      ctx.moveTo(18*s, 55);
      ctx.lineTo(34*s, 82);
      ctx.lineTo(18*s, 80);
      ctx.closePath();
      ctx.fill();
    }

    // Main engine bell
    ctx.fillStyle = '#64748b';
    ctx.beginPath();
    ctx.moveTo(-10, 86);
    ctx.lineTo(10, 86);
    ctx.quadraticCurveTo(14, 98, 0, 104);
    ctx.quadraticCurveTo(-14, 98, -10, 86);
    ctx.closePath();
    ctx.fill();

    // Booster bells
    for(const s of [-1,1]){
      ctx.beginPath();
      ctx.moveTo(22*s, 76);
      ctx.lineTo(28*s, 76);
      ctx.quadraticCurveTo(30*s, 86, 25*s, 92);
      ctx.quadraticCurveTo(20*s, 86, 22*s, 76);
      ctx.closePath();
      ctx.fill();
    }

    ctx.restore();
  }

  function startCycle(){
    launchT = performance.now();
    smoke.length = 0;
    flames.length = 0;
  }

  let t = 0;
  function draw(){
    requestAnimationFrame(draw);
    t += 1/60;

    const w = W(), h = H();

    // Background
    ctx.fillStyle = vgrad(0, h, '#060a1f', '#02040c');
    ctx.fillRect(0,0,w,h);

    // Stars twinkle
    for(const s of stars){
      s.tw += 0.02 + Math.random()*0.01;
      const alpha = 0.4 + Math.abs(Math.sin(s.tw))*0.6;
      ctx.globalAlpha = alpha;
      ctx.fillStyle = '#dbeafe';
      ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
    }
    ctx.globalAlpha = 1;

    // Ground
    ctx.fillStyle = vgrad(h-120, h, '#0f172a', '#0b1226');
    ctx.fillRect(0, h-110, w, 110);
    ctx.fillStyle = vgrad(h-150, h-110, 'rgba(14,165,233,.08)', 'rgba(14,165,233,0)');
    ctx.fillRect(0, h-150, w, 40);

    // Positions
    const padX = w*0.5;
    const padY = h-120;
    const dt = (performance.now() - launchT)/1000;
    const lift = dt*dt*ASC_SCALE; 
    const rocketY = padY - lift;

    // Particles 
    const nozzleX = padX, nozzleY = rocketY + 60;
    const nearPad = lift < 80;
    addFlame(nozzleX, nozzleY + 4, nearPad ? 24 : 14);
    addSmoke(nozzleX, nozzleY + 18, nearPad ? 14 : 8);

    // Flames
    for(let i=flames.length-1;i>=0;i--){
      const f = flames[i];
      f.x += f.vx + (Math.random()-0.5)*0.2;
      f.y += f.vy + (Math.random()*0.4);
      f.r *= 0.98; f.life -= 0.02;
      if(f.life<=0 || f.r<0.5){ flames.splice(i,1); continue; }
      const grd = ctx.createRadialGradient(f.x, f.y, 0, f.x, f.y, f.r*2.2);
      grd.addColorStop(0,'rgba(255,255,255,.9)');
      grd.addColorStop(0.3,'rgba(255,200,80,.9)');
      grd.addColorStop(1,'rgba(255,80,50,0)');
      ctx.fillStyle = grd;
      ctx.beginPath(); ctx.arc(f.x, f.y, f.r*2.2, 0, Math.PI*2); ctx.fill();
    }

    // Smoke
    for(let i=smoke.length-1;i>=0;i--){
      const p = smoke[i];
      p.x += p.vx + (Math.random()-0.5)*0.1;
      p.y += p.vy;
      p.r *= 1.01; p.life -= 0.006;
      if(p.life<=0){ smoke.splice(i,1); continue; }
      ctx.globalAlpha = Math.max(0, p.life)*0.35;
      ctx.fillStyle = '#9aa7b1';
      ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill();
      ctx.globalAlpha = 1;
    }

    // Fog near ground
    for(const b of fogBands){
      ctx.fillStyle = `rgba(200,210,220,${b.alpha})`;
      const yy = b.y + (Math.sin(t*0.4 + b.y*0.02)*4);
      ctx.fillRect(-20, yy, w+40, 16);
    }

    // Shuttle
    drawShuttle(padX, rocketY, 1.0);

    const bloom = ctx.createRadialGradient(nozzleX, nozzleY, 0, nozzleX, nozzleY, 70);
    bloom.addColorStop(0, 'rgba(255,200,120,.28)');
    bloom.addColorStop(1, 'rgba(255,200,120,0)');
    ctx.fillStyle = bloom;
    ctx.beginPath(); ctx.arc(nozzleX, nozzleY, 70, 0, Math.PI*2); ctx.fill();

    if (rocketY + 104 < 0) startCycle();
  }

  startCycle();
  requestAnimationFrame(draw);
})();
</script>
</body>
</html>
